name: NEXT_PUBLIC_BASE_URL の検証

on:
  pull_request:
  push:

jobs:
  check-env:
    runs-on: ubuntu-latest
    steps:
      - name: NEXT_PUBLIC_BASE_URL が定義されているか確認
        run: |
          echo "NEXT_PUBLIC_BASE_URL を確認しています..."
          if [ -z "${{ vars.NEXT_PUBLIC_BASE_URL }}" ] && [ -z "${{ secrets.NEXT_PUBLIC_BASE_URL }}" ]; then
            echo "エラー: NEXT_PUBLIC_BASE_URL がリポジトリ変数またはシークレットに設定されていません。"
            echo "パスワードリセットメールで使用する公開ベースURLをリポジトリの Variables または Secrets に設定してください。"
            exit 1
          fi
        shell: bash
